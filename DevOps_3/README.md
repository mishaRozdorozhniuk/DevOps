## 1. Етапи Завантаження Системи Linux

Завантаження операційної системи Linux це складний, але добре організований процес, який складається з кількох ключових етапів:

1.  **BIOS/UEFI (Basic Input/Output System / Unified Extensible Firmware Interface)**:
    * **Що відбувається?** Коли ви вмикаєте комп'ютер, першим запускається BIOS (на старих системах) або UEFI (на сучасних). Це прошивка на материнській платі, яка ініціалізує основне обладнання (RAM, CPU, диски) та виконує швидку перевірку (POST - Power-On Self-Test).
    * **Передача контролю:** Після успішної перевірки BIOS/UEFI шукає завантажувальний пристрій (наприклад жорсткий диск) і зчитує з нього перший сектор – **MBR (Master Boot Record)** або **GPT (GUID Partition Table)**. MBR/GPT містить інформацію про розділи та завантажувач.

2.  **Bootloader (Завантажувач)**:
    * **Приклад:** Найпопулярніший завантажувач для Linux - це **GRUB (GRand Unified Bootloader)**.
    * **Що відбувається?** Завантажувач, завантажений з MBR/GPT, відповідає за завантаження ядра Linux. Він може показати меню вибору операційної системи (якщо у вас їх кілька) і дозволяє вибрати ядро та параметри завантаження.

3.  **Kernel (Ядро Linux)**:
    * **Що відбувається?** Ядро - це серце операційної системи. Після завантаження GRUB'ом, ядро ініціалізує все інше обладнання, розпізнає пристрої, керує пам'яттю та процесами.
    * **`initramfs` (initial RAM filesystem):** Перед повною ініціалізацією, ядро завантажує тимчасову файлову систему (`initramfs`) у оперативну пам'ять. Ця міні-система містить базові драйвери та утиліти, необхідні для того, щоб ядро могло знайти та змонтувати **кореневу файлову систему** (root filesystem) з постійного сховища.

4.  **`init` System (Система Ініціалізації)**:
    * **Приклад:** На сучасних системах Linux це зазвичай **systemd**. На старих це були SysVinit або Upstart.
    * **Що відбувається?** Після того, як ядро змонтувало кореневу файлову систему, воно передає контроль програмі `init` (або `systemd`). Це перша програма, запущена ядром, і вона відповідає за:
        * Запуск усіх системних сервісів (мережі, графічної оболонки, баз даних тощо).
        * Керування процесами.
        * Перехід системи до певного "рівня виконання" (runlevel) або "цілі" (target) в systemd.
    * **Login Prompt / Graphical Login:** Після запуску всіх необхідних сервісів, `init` - система виводить на екран запрошення для входу користувача (командний рядок або графічний інтерфейс).

---

## 2. Як Переглянути Системні Журнали?

Системні журнали – це "щоденники" вашої операційної системи, де записуються події, помилки, попередження та дії програм. Це незамінний інструмент для діагностики та моніторингу.

На сучасних системах Linux (особливо тих, що використовують `systemd`), основним інструментом для перегляду журналів є команда `journalctl`.

* **Переглянути всі системні журнали (від найновіших):**
    journalctl

    (Ми можемо прокручувати журнал за допомогою клавіш Page Up/Down, Home/End, q для виходу)

* **Переглянути журнал з кінця (як `tail -f`):**
    journalctl -f

    (Це дозволить нам бачити нові записи в режимі реального часу, корисно наприклад при відтворенні проблеми)

* **Переглянути журнал за певний період часу:**
    * За останню годину:
        journalctl -S "1 hour ago"

    * Сьогодні:
        journalctl -S today

    * За певний день:
        journalctl -S "YYYY-MM-DD HH:MM:SS"

* **Переглянути журнал конкретного сервісу (наприклад, Apache або Nginx):**
    journalctl -u apache2.service
    journalctl -u nginx.service

    (Можемо замінити `nginx.service` на назву потрібного нам сервісу)

* **Переглянути журнал лише помилок (рівень "error" і вище):**
    journalctl -p err

    (Ми можемо використовувати інші рівні: `emerg`, `alert`, `crit`, `err`, `warning`, `notice`, `info`, `debug`)

* **Переглянути журнал ядра (kernel messages):**
    journalctl -k

---

## 3. Права Доступу до Файлів (`-rw-------`) та Дозвіл на Виконання

Це рядок дозволів у файловій системі Linux, який показує, хто і що може робити з файлом. Давайте розберемо його по частинах:

**Розшифровка `-rw-------`:**

* **Перший символ (`-`)**:
    * Показує **тип файлу**:
        * `-` : Звичайний файл
        * `d` : Каталог (директорія)
        * `l` : Символічне посилання (symlink)
        * `c` : Символьний пристрій
        * `b` : Блоковий пристрій

* **Наступні три символи (`rw-`)**:
    * Це дозволи для **власника файлу (user)**:
        * `r` : **Read** (читати) - Дозволено читати вміст файлу.
        * `w` : **Write** (писати) - Дозволено змінювати вміст файлу, видаляти його або перейменовувати (якщо є дозвіл на запис у директорію, де знаходиться файл).
        * `-` : **No Execute** (не виконувати) - Відсутній дозвіл на виконання файлу.

* **Наступні три символи (`---`)**:
    * Це дозволи для **групи файлу (group)**:
        * `---` : Означає, що членам групи до якої належить файл, **не дозволено** читати, писати або виконувати цей файл.

* **Останні три символи (`---`)**:
    * Це дозволи для **інших користувачів (others)**:
        * `---` : Означає, що всім іншим користувачам системи, крім власника та членів групи, **не дозволено** читати, писати або виконувати цей файл.

**Підсумок дозволу `-rw-------`:**
Цей файл можуть **читати та змінювати тільки власник файлу**. Ніхто інший (ні члени групи, ні інші користувачі) не має жодних дозволів на цей файл. Це дуже **обмежені** дозволи, які зазвичай застосовуються до конфіденційних файлів, наприклад, приватних ключів SSH.

---

**Як Додати Прапорець Виконуваного Файлу (`x`)?**

Щоб зробити файл виконуваним (тобто додати дозвіл `x`), використовується команда `chmod` (change mode). Ви можете зробити це кількома способами:

1.  **Для власника файлу (owner):**
    chmod u+x your_script.sh

    * `u` - owner (власник)
    * `+x` - додати дозвіл на виконання

    Після цього дозволи стануть `-rwx------`.

2.  **Для всіх (власника, групи, інших):**
    chmod +x your_script.sh

    * Це додасть дозвіл `x` для всіх категорій, хто вже мав інші дозволи.

    * Якщо початкові були `-rw-------`, то стануть `-rwx--x--x`. (Якщо початково були `-rw-r--r--`, то стануть `-rwxr-xr-x`)

3.  **Використання числових дозволів:**
    * Кожен дозвіл має числове значення: `r=4`, `w=2`, `x=1`.

    * Щоб отримати `-rwx------` (читання, запис, виконання для власника, нічого для інших), сума буде: `(4+2+1)00 = 700`.
        chmod 700 your_script.sh

    * Щоб отримати `-rwxr-xr-x` (типові дозволи для скриптів, які може виконувати будь-хто), сума буде: `(4+2+1) (4+0+1) (4+0+1) = 755`.
        chmod 755 your_script.sh

    Після виконання команди `chmod`, ми можемо перевірити дозволи за допомогою `ls -l my_script.sh`.

---

## 4. Яка Різниця Між `apt` та `dpkg`?

Обидві команди використовуються для роботи з пакетами в системах, що базуються на Debian/Ubuntu, але вони виконують різні функції. Думайте про них як про різні рівні одного інструменту.

### `dpkg` (Debian Package)

* **Це низькорівневий інструмент.**
* **Призначення:** Він працює безпосередньо з `.deb` файлами пакетів. `dpkg` може встановлювати, видаляти, оновлювати окремі `.deb` пакети.
* **Особливість:** `dpkg` **НЕ розв'язує залежності.** Це означає, що якщо пакет `A` для своєї роботи вимагає пакет `B`, `dpkg` спробує встановити `A`, але якщо `B` відсутній, він просто повідомить про помилку і не спробує встановити `B` автоматично. Нам доведеться вручну знаходити та встановлювати всі залежності.

* **Приклад використання:**
    * Встановити пакет: `dpkg -i package_name.deb`
    * Видалити пакет: `dpkg -r package_name`
    * Переглянути інформацію про пакет: `dpkg -l package_name`

### `apt` (Advanced Package Tool)

* **Це високорівневий інструмент.**
* **Призначення:** `apt` (або раніше `apt-get`, `apt-cache` - `apt` є сучасним консолідованим інтерфейсом) - це обгортка над `dpkg` та іншими інструментами. Він працює з репозиторіями пакетів (віддаленими серверами, що містять багато пакетів).
* **Особливість:** Головна перевага `apt` - це **автоматичне розв'язання залежностей.** Коли ви просите `apt` встановити пакет, він автоматично перевіряє, які інші пакети потрібні для його роботи, і встановлює їх усі. Він також може керувати оновленнями системи, пошуком пакетів у репозиторіях.
* **Приклад використання:**
    * Оновити список пакетів з репозиторіїв: `sudo apt update`
    * Встановити пакет: `sudo apt install package_name`
    * Видалити пакет та його конфігураційні файли: `sudo apt purge package_name`
    * Оновити всі встановлені пакети: `sudo apt upgrade`
    * Знайти пакет: `apt search package_name`

**Висновок:** У повсякденному використанні ми майже завжди будемо працювати з `apt`, оскільки він набагато зручніший і ефективніший для керування пакетами, автоматично розв'язуючи всі залежності. `dpkg` використовується рідше, здебільшого для ручної установки окремих `.deb` файлів або для низькорівневої діагностики.
